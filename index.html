<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–µ–Ω–¥–∏–Ω–≥ —Å –≤–µ—á–Ω—ã–º–∏ –ª–µ–ø–µ—Å—Ç–∫–∞–º–∏</title>
    <style>
        /* –°—Ç–∏–ª–∏ –ª–µ–Ω–¥–∏–Ω–≥–∞ */
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–µ–∫—Ü–∏–π —Å CSS Snap */
        .sections-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
        }
        
        .section {
            height: 100vh;
            scroll-snap-align: start;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            position: relative;
            z-index: 1;
        }
        
        .section1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .section2 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .section3 { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        
        /* ===== –ö–û–ù–¢–ï–ô–ù–ï–† –õ–ï–ü–ï–°–¢–ö–û–í (–í–°–ï–ì–î–ê –í–ò–î–ò–ú) ===== */
        .petal-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            overflow: hidden;
        }
        
        /* –°—Ç–∏–ª–∏ –ª–µ–ø–µ—Å—Ç–∫–æ–≤ */
        .petal {
            position: absolute;
            top: -50px;
            width: 25px;
            height: 25px;
            background-color: #ff9eb5;
            border-radius: 50% 50% 0 50%;
            opacity: 0.8;
            transform: rotate(45deg);
            animation: fall linear infinite;
            box-shadow: 0 0 15px rgba(255, 182, 193, 0.6);
            will-change: transform;
        }
        
        /* –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã –ª–µ–ø–µ—Å—Ç–∫–æ–≤ */
        .petal.type2 {
            background-color: #ffb7c5;
            border-radius: 80% 0 50% 50%;
        }
        
        .petal.type3 {
            background-color: #ff85a4;
            border-radius: 50% 50% 50% 0;
            transform: rotate(-45deg);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è - —Ç–µ–ø–µ—Ä—å –ª–µ–ø–µ—Å—Ç–∫–∏ –í–û–ó–í–†–ê–©–ê–Æ–¢–°–Ø –Ω–∞–≤–µ—Ä—Ö */
        @keyframes fall {
            0% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 0.9;
            }
            90% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(120vh) rotate(720deg) scale(0.5);
                opacity: 0.2;
            }
        }
        
        /* –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ */
        .nav-dots {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10000;
        }
        
        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .nav-dot.active {
            background: white;
            transform: scale(1.3);
            border-color: rgba(255,255,255,0.3);
        }
    </style>
</head>
<body>
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ª–µ–ø–µ—Å—Ç–∫–æ–≤ (–í–°–ï–ì–î–ê –í–ò–°–ò–¢ –ü–û–í–ï–†–• –í–°–ï–ì–û) -->
    <div class="petal-container" id="petalContainer"></div>
    
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ -->
    <div class="nav-dots" id="navDots">
        <div class="nav-dot active" data-section="0"></div>
        <div class="nav-dot" data-section="1"></div>
        <div class="nav-dot" data-section="2"></div>
    </div>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Å–µ–∫—Ü–∏—è–º–∏ -->
    <div class="sections-container" id="sectionsContainer">
        <div class="section section1">üå∏ –í–µ—Å–µ–Ω–Ω–∏–π —Å–∞–¥</div>
        <div class="section section2">üå∏ –¶–≤–µ—Ç—É—â–∞—è —Å–∞–∫—É—Ä–∞</div>
        <div class="section section3">üå∏ –õ–µ–ø–µ—Å—Ç–∫–∏ –≤ –Ω–µ–±–µ</div>
    </div>

    <script>
        // ========== –õ–û–ì–ò–ö–ê –õ–ï–ü–ï–°–¢–ö–û–í (–ù–ï–ü–†–ï–†–´–í–ù–ê–Ø) ==========
        const petalContainer = document.getElementById('petalContainer');
        
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–µ–ø–µ—Å—Ç–∫–æ–≤
        const PETAL_CONFIG = {
            baseCount: 30,           // –ë–∞–∑–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–µ–ø–µ—Å—Ç–∫–æ–≤
            maxCount: 80,             // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
            creationInterval: 800,     // –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö (–º—Å)
            minSize: 15,              // –ú–∏–Ω —Ä–∞–∑–º–µ—Ä
            maxSize: 35,               // –ú–∞–∫—Å —Ä–∞–∑–º–µ—Ä
            minSpeed: 6,               // –ú–∏–Ω —Å–∫–æ—Ä–æ—Å—Ç—å (—Å–µ–∫)
            maxSpeed: 15                // –ú–∞–∫—Å —Å–∫–æ—Ä–æ—Å—Ç—å (—Å–µ–∫)
        };
        
        // –•—Ä–∞–Ω–∏–ª–∏—â–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ª–µ–ø–µ—Å—Ç–∫–æ–≤
        let activePetals = new Set();
        let targetPetalCount = PETAL_CONFIG.baseCount;
        let creationInterval = null;
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ª–µ–ø–µ—Å—Ç–∫–∞
        function createPetal() {
            const petal = document.createElement('div');
            
            // –¢–∏–ø –ª–µ–ø–µ—Å—Ç–∫–∞ (1-3)
            const type = Math.floor(Math.random() * 3) + 1;
            petal.classList.add('petal', `type${type}`);
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä
            const size = PETAL_CONFIG.minSize + Math.random() * (PETAL_CONFIG.maxSize - PETAL_CONFIG.minSize);
            petal.style.width = size + 'px';
            petal.style.height = size + 'px';
            
            // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–ª–µ–≤–∞ (0-100%)
            petal.style.left = Math.random() * 100 + '%';
            
            // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Å–≤–µ—Ä—Ö—É (—á—Ç–æ–±—ã –ª–µ–ø–µ—Å—Ç–∫–∏ –Ω–∞—á–∏–Ω–∞–ª–∏ —Å —Ä–∞–∑–Ω—ã—Ö –≤—ã—Å–æ—Ç)
            const startY = -10 - Math.random() * 30; // –û—Ç -10% –¥–æ -40%
            petal.style.top = startY + '%';
            
            // –°–ª—É—á–∞–π–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–∞–¥–µ–Ω–∏—è
            const duration = PETAL_CONFIG.minSpeed + Math.random() * (PETAL_CONFIG.maxSpeed - PETAL_CONFIG.minSpeed);
            petal.style.animationDuration = duration + 's';
            
            // –ó–∞–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—Ç–∞
            petal.style.animationDelay = Math.random() * 2 + 's';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ DOM –∏ –≤ Set
            petalContainer.appendChild(petal);
            activePetals.add(petal);
            
            // –£–¥–∞–ª—è–µ–º –∏–∑ Set –∫–æ–≥–¥–∞ –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è, –Ω–æ –ª–µ–ø–µ—Å—Ç–æ–∫ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ DOM
            // (–æ–Ω —Å–∞–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è animation-iteration-count: infinite)
            // –ù–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∂–∏–≤—ã—Ö –ª–µ–ø–µ—Å—Ç–∫–æ–≤
            setTimeout(() => {
                activePetals.delete(petal);
            }, duration * 1000);
            
            return petal;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –Ω—É–∂–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª–µ–ø–µ—Å—Ç–∫–æ–≤
        function maintainPetalCount() {
            // –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–µ–ø–µ—Å—Ç–∫–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
            const currentCount = petalContainer.children.length;
            
            // –°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
            const neededCount = targetPetalCount - currentCount;
            
            if (neededCount > 0) {
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–µ–ø–µ—Å—Ç–∫–æ–≤
                for (let i = 0; i < neededCount; i++) {
                    setTimeout(() => {
                        createPetal();
                    }, i * 100); // –° –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 100–º—Å
                }
            } 
            // –ù–µ —É–¥–∞–ª—è–µ–º –ª–∏—à–Ω–∏–µ - –ø—É—Å—Ç—å –æ–Ω–∏ –¥–æ–ª–µ—Ç—è—Ç –¥–æ –∫–æ–Ω—Ü–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ª–µ–ø–µ—Å—Ç–∫–æ–≤
        function startPetalSystem() {
            // –°–æ–∑–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –ª–µ–ø–µ—Å—Ç–∫–∏
            for (let i = 0; i < PETAL_CONFIG.baseCount; i++) {
                setTimeout(() => {
                    createPetal();
                }, i * 150);
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
            creationInterval = setInterval(maintainPetalCount, 2000);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
        function updatePetalCountByScroll(scrollPercent) {
            // scrollPercent –æ—Ç 0 –¥–æ 1
            const newCount = Math.floor(
                PETAL_CONFIG.baseCount + scrollPercent * (PETAL_CONFIG.maxCount - PETAL_CONFIG.baseCount)
            );
            
            if (newCount !== targetPetalCount) {
                targetPetalCount = newCount;
                console.log('–¶–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–µ–ø–µ—Å—Ç–∫–æ–≤:', targetPetalCount);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å - –∏–∑–º–µ–Ω—è–µ–º opacity –ª–µ–ø–µ—Å—Ç–∫–æ–≤
                // –ß–µ–º –±–æ–ª—å—à–µ —Å–∫—Ä–æ–ª–ª, —Ç–µ–º –Ω–∞—Å—ã—â–µ–Ω–Ω–µ–µ —Ü–≤–µ—Ç
                const saturation = 0.5 + scrollPercent * 0.5;
                document.documentElement.style.setProperty('--petal-opacity', saturation);
            }
        }
        
        // ========== –õ–û–ì–ò–ö–ê –°–ö–†–û–õ–õ–ê –°–ï–ö–¶–ò–ô ==========
        const sectionsContainer = document.getElementById('sectionsContainer');
        const dots = document.querySelectorAll('.nav-dot');
        const sections = document.querySelectorAll('.section');
        
        // –§—É–Ω–∫—Ü–∏—è —Å–∫—Ä–æ–ª–ª–∞ –∫ —Å–µ–∫—Ü–∏–∏
        window.scrollToSection = function(index) {
            sections[index].scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }
        
        // –ù–∞–≤–µ—à–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —Ç–æ—á–∫–∏
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                scrollToSection(index);
            });
        });
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Ç–æ—á–∫–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª–µ–ø–µ—Å—Ç–∫–æ–≤ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
        sectionsContainer.addEventListener('scroll', () => {
            const scrollTop = sectionsContainer.scrollTop;
            const sectionHeight = window.innerHeight;
            const totalHeight = sections.length * sectionHeight;
            
            // –¢–µ–∫—É—â–∞—è —Å–µ–∫—Ü–∏—è
            const activeIndex = Math.round(scrollTop / sectionHeight);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ—á–∫–∏
            dots.forEach((dot, i) => {
                if (i === activeIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
            
            // –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫—Ä–æ–ª–ª–∞ (–æ—Ç 0 –¥–æ 1)
            const scrollPercent = Math.min(1, scrollTop / (totalHeight - sectionHeight));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–µ–ø–µ—Å—Ç–∫–æ–≤
            updatePetalCountByScroll(scrollPercent);
        });
        
        // ========== –ó–ê–ü–£–°–ö ==========
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É –ª–µ–ø–µ—Å—Ç–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            startPetalSystem();
        });
        
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Å–æ–∑–¥–∞–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –ª–µ–ø–µ—Å—Ç–æ–∫ –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã,
        // —á—Ç–æ–±—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–æ –ø—É—Å—Ç–æ
        setInterval(() => {
            if (petalContainer.children.length < targetPetalCount * 0.8) {
                createPetal();
            }
        }, 3000);
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—Å–∞–π–∑–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', () => {
            // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫—Ä–æ–ª–ª–∞
            const scrollTop = sectionsContainer.scrollTop;
            const sectionHeight = window.innerHeight;
            const totalHeight = sections.length * sectionHeight;
            const scrollPercent = Math.min(1, scrollTop / (totalHeight - sectionHeight));
            updatePetalCountByScroll(scrollPercent);
        });
    </script>
</body>
</html>